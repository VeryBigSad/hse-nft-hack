<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSE NFT</title>
</head>
<body>
    <div class="w-full max-w-xs">
        <form class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
              Collection name:
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="username" type="text" placeholder="Collection name">
          </div>
          <div class="flex justify-center">
            <button id="generator" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button" onclick = "constructTable('#table'), disabled=true">
              Generate
            </button>
          </div>
        </form>
      </div>

      <div>
       
      <br><br>
       
      <table class ="align-center space-between" id="table">
      </table>
       
      <script>
    //       "background": ["ocean", "deep sea", "beach"],
    //     "head": ["shark", "human", "fish"],
    //     "clothing": ["wet suit", "scuba gear", "swimming trunks"]
    //
           
		let list = [
			{"background": ["ocean", "deep sea", "beach"]},
			{"head": ["shark", "human", "fish"]},
			{"clothing": ["wet suit", "scuba gear", "swimming trunks"]}
		];
		
		function constructTable(selector) {
			// Getting the all column names
			let cols = Headers(list, selector); 
			console.log(cols)

			// add_line(table, cols);

			for(let i = 0; i < list[0][cols[0]].length; ++i){
				let new_data = [];

				for(let j = 0; j < list.length; ++j){
					new_data.push(list[j][cols[j]][i]);
				}

				add_line(table, new_data);
				// console.log(new_data);
			}
			// Traversing the JSON data
			// for (let i = 0; i < list.length; i++) {
			// 	let row = $('<tr/>');  
			// 	for (let colIndex = 0; colIndex < cols.length; colIndex++)
			// 	{
			// 		let val = list[i][cols[colIndex]];
					
			// 		// If there is any key, which is matching
			// 		// with the column name
			// 		if (val == null) val = ""; 
			// 			row.append($('<td/>').html(val));
			// 	}
				
			// 	// Adding each row to the table
			// 	$(selector).append(row);
			// }
		}

		function add_line(parent, new_data){
			let line = document.createElement('tr');

			let new_td = [];

			new_data.forEach(element => {
				let td = document.createElement('td');
				td.innerHTML = element

				line.appendChild(td);
			});
			// let time_tr = document.createElement('td');
			// time_tr.innerHTML = time;
			// let name_tr = document.createElement('td');
			// name_tr.innerHTML = name;
			// let location_tr = document.createElement('td');
			// location_tr.innerHTML = location;
			
			// line.appendChild(time_tr);
			// line.appendChild(name_tr);
			// line.appendChild(location_tr);

			parent.appendChild(line);
		}
		
		function Headers(list, selector) {
			let columns = [];
			let header = $('<tr/>');
			
			for (let i = 0; i < list.length; i++) {
				let row = list[i];
				
				for (let k in row) {
					if ($.inArray(k, columns) == -1) {
						columns.push(k);
						
						// Creating the header
						header.append($('<th/>').html(k));
					}
				}
			}
			
			// Appending the header to the table
			$(selector).append(header);
				return columns;
		}      
      </script>
      </div>

</body>

</html>