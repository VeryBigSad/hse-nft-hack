<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSE NFT</title>
</head>
<body>
    <div class="w-full max-w-xs">
        <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
              Collection name:
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="collection" type="text" placeholder="Collection name">
          </div>
          <div class="flex justify-center">
            <button id="generator" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
              Generate
            </button>
          </div>
        </div>
      </div>

      <div>
       
      <br><br>
       
      <table class ="align-center space-between" id="table">
      </table>
       
      <script>
		let list = [
			{"background": ["ocean", "deep sea", "beach"]},
			{"head": ["shark", "human", "fish"]},
			{"clothing": ["wet suit", "scuba gear", "swimming trunks"]}
		];

		// generator.addEventListener('ckic')
		
		function constructTable(selector) {
			let cols = Headers(list, selector); 

			for(let i = 0; i < list[0][cols[0]].length; ++i){
				let new_data = [];

				for(let j = 0; j < list.length; ++j){
					new_data.push(list[j][cols[j]][i]);
				}

				add_line(table, new_data);
			}
		}

		function add_line(parent, new_data){
			let line = document.createElement('tr');

			let new_td = [];

			new_data.forEach(element => {
				let td = document.createElement('td');
				td.innerHTML = element

				line.appendChild(td);
			});

			parent.appendChild(line);
		}
		
		function Headers(list, selector) {
			let columns = [];
			let header = $('<tr/>');
			
			for (let i = 0; i < list.length; i++) {
				let row = list[i];
				
				for (let k in row) {
					if ($.inArray(k, columns) == -1) {
						columns.push(k);
						
						header.append($('<th/>').html(k));
					}
				}
			}
			
			$(selector).append(header);
				return columns;
		}      
      </script>
      </div>

	  <script type="module" src="/js/create.js"></script>
</body>

</html>